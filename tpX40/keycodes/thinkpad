// [jpw]  The keyboard mappings for the ThinkPad X40.
//	  This file should be named "thinkpad"


// The ThinkPad has no separate keypad keys.  By default, when NumLock
// is active, the overlayed keypad keys generate the bona-fide keypad
// number-keycodes.  Even better, Shift a keypad key generates the
// actual motion-keypad keycodes!  :)  Therefore, there is no reason
// to alter the default X behavior.

// Indeed, the only things that need altering for a ThinkPad are:
//   1. Get rid of Shift+NumLock being bound to ANYTHING.
//
//      When you press any "normal" keyboard key, it generates a
//      scancode (keycode in X-parlance).  That includes the Shift,
//      Ctrl, and Alt keys.
//      So, on a ThiinkPad, Shift+ScrollLock generates the *hardware*
//      keycodes of NumLock *and* Shift.  There is NO unshifted
//      NumLock.
//
//   2. Enabling NumLock by default when starting X.
//
//      For a desktop keyboard, this is fine.  For a laptop, it's
//      pointless.  For the ThinkPads, it's both pointless AND
//      annoying!


//=============================================================================
//  Keycodes
//=============================================================================


// The keycodes generated by the special ThinkPad keys.  Note that the
// xkb_symbols for these keys do not use the aliases defined below, to
// better provide portability and customization.
//
// The main purpose of this custom "xkb_keycodes" section is to
// eliminate the Scroll Lock indicator, since the ThinkPad X40 (and
// other models, I suspect) have no Scroll Lock indicator.

default partial
xkb_keycodes "X_series" {
    // There will be warnings from xkbcomp because of multiple definitions.
    virtual indicator 3 = "None";

    alias <FN> = <I63>;
    alias <SBAK> = <I6A>;
    alias <SFWD> = <I69>;
};
